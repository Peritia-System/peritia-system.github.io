<div class="related-files-by-alter">
  <a class="related-post-title">Files written by {{ page.author }}:</a>

  <div class="related-posts">
      {% assign related_files = site.peritia | where: "author", page.author | sort: "date" | reverse %}
      {% assign related_posts = site.posts | where: "author", page.author | sort: "date" | reverse %}
      
      {% assign all_related_files = related_files | concat: related_posts %}
      {% assign recent_files = all_related_files | slice: 0, 4 %} <!-- Get the most recent 4 files -->

      {% for file in recent_files %}
          {% if file.url != page.url %}
              <a href="{{ file.url }}" class="related-post-box">
                  <span class="related-post-title">{{ file.title }}</span>
                  <i class="related-post-subtitle">{{ file.subtitle }}</i>
                </a>
          {% endif %}
      {% endfor %}
  </div>
</div>
